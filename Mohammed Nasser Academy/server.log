
> mohammed-nasser-academy-server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
‚úÖ Server running on http://0.0.0.0:5000
üìö Mohammed Nasser Academy API is ready
üåê Running in GitHub Codespaces
üîó Accepting requests from: [
  'https://probable-fortnight-v7jq6v6wxp3x4gw-3000.app.github.dev',
  'https://probable-fortnight-v7jq6v6wxp3x4gw-5173.app.github.dev',
  'http://localhost:3000',
  'http://localhost:5173'
]
Fetching profile for user: 3ff5b955-31bc-4541-9d09-dbe803215eec
Fetching profile for user: 3ff5b955-31bc-4541-9d09-dbe803215eec
Auth user not found: 3ff5b955-31bc-4541-9d09-dbe803215eec AuthApiError: Invalid API key
    at handleError (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:69:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async GoTrueAdminApi.getUserById (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/GoTrueAdminApi.js:180:20)
    at async ensureUserProfile (file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:23:58)
    at async file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:57:21 {
  __isAuthError: true,
  status: 401,
  code: undefined
}
[PROFILE/:id] User not found or not in Auth: 3ff5b955-31bc-4541-9d09-dbe803215eec
Auth user not found: 3ff5b955-31bc-4541-9d09-dbe803215eec AuthApiError: Invalid API key
    at handleError (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:69:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async GoTrueAdminApi.getUserById (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/GoTrueAdminApi.js:180:20)
    at async ensureUserProfile (file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:23:58)
    at async file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:57:21 {
  __isAuthError: true,
  status: 401,
  code: undefined
}
[PROFILE/:id] User not found or not in Auth: 3ff5b955-31bc-4541-9d09-dbe803215eec
Fetching profile for user: 3ff5b955-31bc-4541-9d09-dbe803215eec
Auth user not found: 3ff5b955-31bc-4541-9d09-dbe803215eec AuthApiError: Invalid API key
    at handleError (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:69:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async GoTrueAdminApi.getUserById (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/GoTrueAdminApi.js:180:20)
    at async ensureUserProfile (file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:23:58)
    at async file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:57:21 {
  __isAuthError: true,
  status: 401,
  code: undefined
}
[PROFILE/:id] User not found or not in Auth: 3ff5b955-31bc-4541-9d09-dbe803215eec
Fetching profile for user: 3ff5b955-31bc-4541-9d09-dbe803215eec
Auth user not found: 3ff5b955-31bc-4541-9d09-dbe803215eec AuthApiError: Invalid API key
    at handleError (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:69:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async _handleRequest (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:114:9)
    at async _request (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/lib/fetch.js:95:18)
    at async GoTrueAdminApi.getUserById (/workspaces/Mohammed-Nasser-Academy/Mohammed Nasser Academy/server/node_modules/@supabase/auth-js/dist/main/GoTrueAdminApi.js:180:20)
    at async ensureUserProfile (file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:23:58)
    at async file:///workspaces/Mohammed-Nasser-Academy/Mohammed%20Nasser%20Academy/server/routes/users.js:57:21 {
  __isAuthError: true,
  status: 401,
  code: undefined
}
[PROFILE/:id] User not found or not in Auth: 3ff5b955-31bc-4541-9d09-dbe803215eec
Error fetching courses: {
  message: 'Invalid API key',
  hint: 'Double check your Supabase `anon` or `service_role` API key.'
}
Error fetching courses: {
  message: 'Invalid API key',
  hint: 'Double check your Supabase `anon` or `service_role` API key.'
}
